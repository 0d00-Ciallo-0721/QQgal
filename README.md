 # QQgal
 # 更新
 修复了使用persona之后，人格为空的情况。让你使用persona的人格进行gal游戏
 
 ## 写在最前面

- **LLM提供商ID**：选用一个聪明的模型！！！！！！！，最好不要用哈基米（测试阶段选项会乱写）
- !!!!如果模型生成的内容不符合期望，尝试更换LLM提供商ID!!!!!!!
- 硅基流不动：推荐使用qwq2.5-32b模型。建议不要使用哈基米→可能选项生成错误

### 更新：新增按钮功能，选项并发生成,修复了不同群聊的出现相同控制的bug，每个群聊/私聊都是一个独立的会话。

## 新功能需安装前置插件：发送按钮插件，不安装的话，还是可以像原来一样发送选项来进行下一步
- 按钮交互功能需要安装 [astrbot_plugin_buttons](https://github.com/Zhalslar/astrbot_plugin_buttons) 插件

## 简介
模拟galgame游戏的插件，让你的ai变成gal女主，懂得都懂

## 使用方法

- `gal启动`: 开始一个新的视觉小说游戏
- `gal关闭`: 结束当前进行中的游戏

### 游戏流程

1. 输入 `gal启动` 开始游戏
2. 阅读生成的开场剧情
3. 从显示的 A、B、C 三个选项中选择一个（直接输入字母即可）
4. 根据你的选择，故事将继续发展并提供新的选项
5. 重复选择过程，体验完整的故事发展

## 游戏特点
- 千原万神玩过吧

## 默认风格
- **A选项**: 温柔/体贴/善解人意风格的互动
- **B选项**: 挑逗/暧昧/幽默风格的互动
- **C选项**: 理性/保守/谨慎风格的互动

## 技术实现

- 插件利用大语言模型生成连贯的故事情节和对话
- 通过上下文管理确保故事发展的连贯性
- 将用户选择的选项记录到上下文中以影响后续发展
- 分离角色视角和玩家视角，提供更真实的互动体验

## 自定义与扩展
- 可通过修改提示词模板自定义故事风格和选项类型
## 注意事项
- 每个会话同一时间只能有一个活跃游戏
- 游戏中仅接受 A、B、C 作为有效输入
- 游戏会记录上下文，可能占用较多内存资源


